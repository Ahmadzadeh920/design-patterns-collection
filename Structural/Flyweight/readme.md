# ๐งฑ ุงูฺฏู ุทุฑุงุญ ูฺฏุณโูุฒู (Flyweight Pattern)
## ๐ฏ ูุฏู ุงูฺฏู
ุงูฺฏู Flyweight (ุง ูฺฏุณโูุฒู) ฺฉ ุงุฒ ุงูฺฏููุง ุทุฑุงุญ ุณุงุฎุชุงุฑ (Structural) ุงุณุช ฺฉู ุจุฑ ุจูููโุณุงุฒ ูุตุฑู ุญุงูุธู (RAM) ุชูุฑฺฉุฒ ุฏุงุฑุฏ.

๐ก ุงุฏู ุงุตู: ุจูโุฌุง ฺฉูพโฺฉุฑุฏู ุฏุงุฏูโูุง ฺฉุณุงู ุฏุฑ ูุฒุงุฑุงู ุดุกุ ุขู ุฏุงุฏูโูุง ุฑุง ููุท ฺฉโุจุงุฑ ุฐุฎุฑู ฺฉุฑุฏู ู ุจู ุชูุงู ุงุดุงุก ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ. ุงู ุงูฺฏู ุฒูุงู ูุฑุดุชู ูุฌุงุช ุดูุงุณุช ฺฉู ุจุง ุชุนุฏุงุฏ ุจุณุงุฑ ุฒุงุฏ ุดุก (ูุงููุฏ ุฐุฑุงุช ุฏุฑ ฺฉ ุจุงุฒ ุง ฺฉุงุฑุงฺฉุชุฑูุง ุฏุฑ ฺฉ ูุชู) ุณุฑูฺฉุงุฑ ุฏุงุฑุฏ ฺฉู ุจุงุนุซ ูพุฑ ุดุฏู ุญุงูุธู ูโุดููุฏ.


## ฺุทูุฑ ุงู ุงูฺฏู ุฑุง ุนูู ุงุฏ ุจฺฏุฑูุ
ุจุฑุง ุฏุฑฺฉ ุนูู ุงู ููููู ุจูููโุณุงุฒุ ูุณุฑ ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ ๐

ูุทุงูุนู ุชุฆูุฑ: ุงุจุชุฏุง ูุงู flyweight-fa.pdf ุฑุง ูุฑูุฑ ฺฉูุฏ ุชุง ุจุง ููุงูู Intrinsic State (ุฏุงุฏูโูุง ุซุงุจุช ู ูุดุชุฑฺฉ) ู Extrinsic State (ุฏุงุฏูโูุง ูุชุบุฑ ู ููุญุตุฑุจูโูุฑุฏ) ุขุดูุง ุดูุฏ.

ุจุฑุฑุณ ฺฉุฏ ูพุงู: ูุงู main.py ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุฏุฑ ุงู ฺฉุฏุ ูุฏุฑุช ุฏุชุงุจุณ ุฎูุฏุฑููุง ูพูุณ ุดุจูโุณุงุฒ ุดุฏู ุงุณุช ุชุง ุจุจูุฏ ฺุทูุฑ ุงุฒ ุณุงุฎุช ูุฏูโูุง ุชฺฉุฑุงุฑ ุฎูุฏุฑู ุฌููฺฏุฑ ูโุดูุฏ.

ุชุญูู ุฎุฑูุฌ: ูุงู output.txt ุฑุง ุจุฑุฑุณ ฺฉูุฏ ุชุง ุชูุงูุช ุจู "ุงุฌุงุฏ ุดุก ุฌุฏุฏ" ู "ุงุณุชูุงุฏู ูุฌุฏุฏ (Reuse)" ุฑุง ุฏุฑ ุนูู ูุดุงูุฏู ฺฉูุฏ.


## ุชูุถุญ ุณุงุฎุชุงุฑ ู ููุทู ฺฉุฏ main.py
ุฏุฑ ุงู ูพุงุฏูโุณุงุฒุ ุณุณุชู ุจู ูุดุฎุตุงุช ูู ุฎูุฏุฑู (ุซุงุจุช) ู ุงุทูุงุนุงุช ูุงูฺฉ/ูพูุงฺฉ (ูุชุบุฑ) ุชูฺฉฺฉ ูุงุฆู ูโุดูุฏ:

### ๐น ฺฉูุงุณ Flyweight
ุงู ฺฉูุงุณ ุจุฎุด ูุดุชุฑฺฉ ุฏุงุฏูโูุง (ูุงููุฏ ุจุฑูุฏุ ูุฏู ู ุฑูฺฏ) ุฑุง ุฏุฑ ุฎูุฏ ูฺฏู ูโุฏุงุฑุฏ.

 ุญุงูุช Intrinsic : ุฏุงุฏูโูุง ูุซู ["BMW", "M5", "red"] ฺฉู ุจู ุตุฏูุง ุฎูุฏุฑู ูุดุชุฑฺฉ ุงุณุช.

ูุชุฏ operation: ุงู ูุชุฏ ุฏุงุฏูโูุง ููุญุตุฑุจูโูุฑุฏ (unique_state) ูุงููุฏ ูพูุงฺฉ ุฑุง ุงุฒ ูุฑูุฏ ูโฺฏุฑุฏ ู ูพุฑุฏุงุฒุด ูโฺฉูุฏ.

### ๐น ฺฉูุงุณ FlyweightFactory
ูุธูู ูุฏุฑุช ู ูฺฏูุฏุงุฑ ุงุดุงุก Flyweight ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑุฏ ุชุง ุงุฒ ุชฺฉุฑุงุฑ ุฌููฺฏุฑ ฺฉูุฏ.

ุจุฑุฑุณ ููุฌูุฏ: ูุจู ุงุฒ ุณุงุฎุช ูุฑ ุดุกุ ฺฺฉ ูโฺฉูุฏ ฺฉู ุขุง ุขู ุชุฑฺฉุจ (ูุซูุงู ุจูุฒ ูุดฺฉ) ูุจูุงู ุณุงุฎุชู ุดุฏู ุง ุฎุฑ.

ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ: ุงฺฏุฑ ููุฌูุฏ ุจุงุดุฏุ ููุงู ูุณุฎู ูุจู ุฑุง ุจู ฺฉูุงูุช ุจุฑูโฺฏุฑุฏุงูุฏ.

```bash 
# ููุทู ุงุตู ฺฉุงุฑุฎุงูู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุชฺฉุฑุงุฑ
if not self._flyweights.get(key):
    print("FlyweightFactory: Can't find a flyweight, creating new one.")
    self._flyweights[key] = Flyweight(shared_state)
else:
    print("FlyweightFactory: Reusing existing flyweight.")

```


### ๐น ฺฉุฏ ุณูุช ฺฉูุงูุช (client_code)
ฺฉูุงูุช ููุท ุฏุงุฏูโูุง ูุชุบุฑ (ูพูุงฺฉ ู ูุงู ูุงูฺฉ) ุฑุง ุฐุฎุฑู ูโฺฉูุฏ ู ููฺฏุงู ูุงุฒุ ุขูโูุง ุฑุง ุจู ฺฉุงุฑุฎุงูู ุชุญูู ูโุฏูุฏ ุชุง ุนููุงุช ุงูุฌุงู ุดูุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุญุงูุธู ุณุณุชู ุจุง ุฏุงุฏูโูุง ุชฺฉุฑุงุฑ ุจุฑูุฏ ู ูุฏู ูพุฑ ูุดูุฏ.

## ๐ ุชูุฑู ูพุดููุงุฏ ูุงูุน (Real Practice)
### ๐ง ุชูุฑู ฑ โ ุณุณุชู ูุงฺูโูพุฑุฏุงุฒ (Text Editor)
ฺฉ ูุฑูโุงูุฒุงุฑ ุดุจู Word ุทุฑุงุญ ฺฉูุฏ. ุจู ุฌุง ุงูฺฉู ุจุฑุง ูุฑ ุญุฑู "ุงูู" ฺฉู ุชุงูพ ูโุดูุฏ ฺฉ ุดุก ุจุง ูููุช ู ุณุงุฒ ุจุณุงุฒุฏุ ฺฉ Flyweight ุจุฑุง ุญุฑู "ุงูู" ุจุณุงุฒุฏ ู ููุท ูููุนุช (X, Y) ูุฑ ุญุฑู ุฑุง ุฏุฑ ุฌุง ุฏฺฏุฑ ุฐุฎุฑู ฺฉูุฏ.

### ๐ง ุชูุฑู ฒ โ ุณุณุชู ุฐุฑุงุช (Particle System) ุฏุฑ ุจุงุฒ
ฺฉ ูุญุท ุจุงุฒ ุทุฑุงุญ ฺฉูุฏ ฺฉู ุฏุฑ ุขู ฑฐฐฐฐ ฺฏูููู ููโุฒูุงู ุดูฺฉ ูโุดูุฏ. ุฏุงุฏูโูุง ุณูฺฏู ูุซู ูุฏู ุณูโุจุนุฏ ู ุชฺฉุณฺุฑ ฺฏูููู ุฑุง ุฏุฑ Flyweight ูุฑุงุฑ ุฏูุฏ ู ููุท ูุฎุชุตุงุช ูุญุธูโุง ูุฑ ฺฏูููู ุฑุง ุจู ุขู ูพุงุณ ุจุฏูุฏ.

### ๐ง ุชูุฑู ณ โ ูุฏุฑุช ุฏุฑุฎุชุงู ุฌูฺฏู
ฺฉ ุฌูฺฏู ุจุง ตฐฐฐฐ ุฏุฑุฎุช ุจุณุงุฒุฏ. ููุน ุฏุฑุฎุช ู ุฑูฺฏ ุจุฑฺฏโูุง ุฑุง ุจู ุตูุฑุช ูุดุชุฑฺฉ (Flyweight) ุชุนุฑู ฺฉูุฏ ู ูููุนุช ู ูุฒุงู ุฑุดุฏ ูุฑ ุฏุฑุฎุช ุฑุง ุจู ุตูุฑุช ููุญุตุฑุจูโูุฑุฏ ูุฏุฑุช ฺฉูุฏ.

# ููุงุจุน ูพุดููุงุฏ ุจุฑุง ูุทุงูุนู ุจุดุชุฑ

๐ Refactoring.Guru โ Flyweight Pattern

๐ Head First Design Patterns (ูุตู ูุฑุจูุท ุจู ุจูููโุณุงุฒ ุณุงุฎุชุงุฑ)

๐ฅ"Memory Optimization using Flyweight" ุฏุฑ ูุชูุจ